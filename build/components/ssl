#
#   SSL
#
defineComponent() {
	local iflags libpaths deps path search ver builtin

    path="${1:-.}"
    iflags=-I`probe --name mprSsl.h --search "$path:$path/src/deps/mpr:$path/src/include" --dir "mprSsl.h"`
    libpaths=`probe --name libmprssl --search "$path:$path/out/lib" --dir "libmprssl" `
    if [ "$libpaths" = "" -a "$path" != "." ] ; then
        warnComponent mprSsl "Can't locate libmprssl"
        return
    fi
    deps=
    if isdefined MATRIXSSL ; then
        deps="$deps matrixssl"
    fi
    if isdefined OPENSSL ; then
        deps="$deps openssl"
    fi
    deps="$deps mpr"
    builtin=`[ $path = . ] && echo --builtin`
    configureComponent --libs "mprssl" --libpaths "$libpaths" --iflags "$iflags" --dependencies "$deps" $builtin ssl
}
