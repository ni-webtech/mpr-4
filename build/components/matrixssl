#
#   MatrixSSL
#
defineComponent() {
	local path iflags libpaths search ver libs imports

    path=$1
    ver="latest"
    search="."

    if [ "$path" != "" ] ; then
        imports=`probe --name matrixssl --search "$path" libmatrixsslstatic`
        iflags=-I`probe --name matrixssl --dir --search "$path" matrixSsl.h`
    else
        imports=`probe --name matrixssl --search "extensions/matrixssl/$ver/src" libmatrixsslstatic`
        iflags=-I`probe --name matrixssl --dir --search "extensions/matrixssl/$ver" matrixSsl.h`
    fi
    if [ "$imports" = "" -o "$iflags" = "" ] ; then
        warnComponent matrixssl
        return
    fi
    if [ $BLD_HOST_OS = WIN ] ; then
        libs="libmatrixssl"
    else
        libs="matrixsslstatic.a"
    fi
    CFG_HOST_SSL_MANDATORY=1
    libpaths="${imports%/*}"
    configureComponent --libs "$libs" --libpaths "$libpaths" --iflags "$iflags" --imports "$imports" matrixssl
}
