<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>mpr: Mpr</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>Mpr</h1>Primary MPR application control structure.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#gc5203b2138474e781207b39ac4726c1b">mprBreakpoint</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Trigger a breakpoint.  <a href="#gc5203b2138474e781207b39ac4726c1b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Mpr *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#g4e84f505d5b6f74de677ffff29806906">mprCreate</a> (int argc, char **argv, <a class="el" href="group___mpr_mem.html#ge0e48d1c33f626b414aa311fe400cbf0">MprAllocFailure</a> cback)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an instance of the MPR.  <a href="#g4e84f505d5b6f74de677ffff29806906"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Mpr *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#g045dc3d2476aebeecee838dacd0c63ba">mprCreateEx</a> (int argc, char **argv, <a class="el" href="group___mpr_mem.html#ge0e48d1c33f626b414aa311fe400cbf0">MprAllocFailure</a> cback, void *shell)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an instance of the MPR.  <a href="#g045dc3d2476aebeecee838dacd0c63ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#g1392efc11ff7ec56f8cb2e3b6fa1168c">mprGetDebugMode</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the debug mode.  <a href="#g1392efc11ff7ec56f8cb2e3b6fa1168c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#gf184a06275222c97f80e0a8d807418ac">mprGetError</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the error code for the most recent system or library operation.  <a href="#gf184a06275222c97f80e0a8d807418ac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#gd2fa15bdd6890ff1df432ae25f4c981c">mprGetOsError</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the O/S error code.  <a href="#gd2fa15bdd6890ff1df432ae25f4c981c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#g1dfe792f44331fa47bb8e8cb8c04a2c7">mprIsExiting</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine if the MPR should exit.  <a href="#g1dfe792f44331fa47bb8e8cb8c04a2c7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#gf86c5f0e03d6476670810091ba6a8d3c">mprSignalExit</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Signal the MPR to exit gracefully.  <a href="#gf86c5f0e03d6476670810091ba6a8d3c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr.html#gedafb2bdaadd9bccf0938e8e6e31f539">mprTerminate</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, bool graceful)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Terminate the MPR.  <a href="#gedafb2bdaadd9bccf0938e8e6e31f539"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Primary MPR application control structure. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The Mpr structure stores critical application state information and is the root memory allocation context block. It is used as the MprCtx context for other memory allocations and is thus the ultimate parent of all allocated memory. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd>mprGetApp, <a class="el" href="group___mpr.html#g045dc3d2476aebeecee838dacd0c63ba" title="Create an instance of the MPR.">mprCreateEx</a>, <a class="el" href="group___mpr.html#g1dfe792f44331fa47bb8e8cb8c04a2c7" title="Determine if the MPR should exit.">mprIsExiting</a>, <a class="el" href="group___mpr.html#gf86c5f0e03d6476670810091ba6a8d3c" title="Signal the MPR to exit gracefully.">mprSignalExit</a>, <a class="el" href="group___mpr.html#gedafb2bdaadd9bccf0938e8e6e31f539" title="Terminate the MPR.">mprTerminate</a>, mprGetKeyValue, mprRemoveKeyValue, <a class="el" href="mpr_8h.html#a0451f6be62ac9d8c4c9d57df6a4acfb" title="Turn on debug mode.">mprSetDebugMode</a>, mprGetErrorMsg, <a class="el" href="group___mpr.html#gd2fa15bdd6890ff1df432ae25f4c981c" title="Return the O/S error code.">mprGetOsError</a>, <a class="el" href="group___mpr.html#gf184a06275222c97f80e0a8d807418ac" title="Return the error code for the most recent system or library operation.">mprGetError</a>, <a class="el" href="group___mpr.html#gc5203b2138474e781207b39ac4726c1b" title="Trigger a breakpoint.">mprBreakpoint</a> </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gc5203b2138474e781207b39ac4726c1b"></a><!-- doxytag: member="mpr.h::mprBreakpoint" ref="gc5203b2138474e781207b39ac4726c1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprBreakpoint           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Trigger a breakpoint. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Triggers a breakpoint and traps to the debugger. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g4e84f505d5b6f74de677ffff29806906"></a><!-- doxytag: member="mpr.h::mprCreate" ref="g4e84f505d5b6f74de677ffff29806906" args="(int argc, char **argv, MprAllocFailure cback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mpr* mprCreate           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#ge0e48d1c33f626b414aa311fe400cbf0">MprAllocFailure</a>&nbsp;</td>
          <td class="paramname"> <em>cback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create an instance of the MPR. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Initializes the MPR and creates an Mpr control object. The Mpr Object manages Mpr facilities and is the top level memory context. It may be used wherever a MprCtx parameter is required. This function must be called prior to calling any other Mpr API. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Count of command line args </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>Command line arguments for the application. Arguments may be passed into the Mpr for retrieval by the unit test framework. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cback</em>&nbsp;</td><td>Memory allocation failure notification callback. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the Mpr object. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g045dc3d2476aebeecee838dacd0c63ba"></a><!-- doxytag: member="mpr.h::mprCreateEx" ref="g045dc3d2476aebeecee838dacd0c63ba" args="(int argc, char **argv, MprAllocFailure cback, void *shell)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mpr* mprCreateEx           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#ge0e48d1c33f626b414aa311fe400cbf0">MprAllocFailure</a>&nbsp;</td>
          <td class="paramname"> <em>cback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>shell</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create an instance of the MPR. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Alternate API to create and initialize the MPR. The Mpr object manages Mpr facilities and is the top level memory context. It may be used wherever a MprCtx parameter is required. This function, or <a class="el" href="group___mpr.html#g4e84f505d5b6f74de677ffff29806906" title="Create an instance of the MPR.">mprCreate</a> must be called prior to calling any other Mpr API. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Count of arguments supplied in argv </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>Program arguments. The MPR can store the program arguments for retrieval by other parts of the program. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cback</em>&nbsp;</td><td>Callback function to be invoked on memory allocation errors. Set to null if not required. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>shell</em>&nbsp;</td><td>Optional reference to an O/S implementation dependent shell object. Used by Brew. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the Mpr object. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g1392efc11ff7ec56f8cb2e3b6fa1168c"></a><!-- doxytag: member="mpr.h::mprGetDebugMode" ref="g1392efc11ff7ec56f8cb2e3b6fa1168c" args="(MprCtx ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mprGetDebugMode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the debug mode. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Returns whether the debug mode is enabled. Some modules observe debug mode and disable timeouts and timers so that single-step debugging can be used. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns true if debug mode is enabled, otherwise returns false. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gf184a06275222c97f80e0a8d807418ac"></a><!-- doxytag: member="mpr.h::mprGetError" ref="gf184a06275222c97f80e0a8d807418ac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprGetError           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the error code for the most recent system or library operation. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Returns an error code from the most recent system call. This will be mapped to be either a POSIX error code or an MPR error code. </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The mapped error code. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gd2fa15bdd6890ff1df432ae25f4c981c"></a><!-- doxytag: member="mpr.h::mprGetOsError" ref="gd2fa15bdd6890ff1df432ae25f4c981c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprGetOsError           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the O/S error code. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Returns an O/S error code from the most recent system call. This returns errno on Unix systems or GetLastError() on Windows.. </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The O/S error code. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g1dfe792f44331fa47bb8e8cb8c04a2c7"></a><!-- doxytag: member="mpr.h::mprIsExiting" ref="g1dfe792f44331fa47bb8e8cb8c04a2c7" args="(MprCtx ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mprIsExiting           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine if the MPR should exit. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Returns true if the MPR should exit gracefully. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if the App has been instructed to exit. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gf86c5f0e03d6476670810091ba6a8d3c"></a><!-- doxytag: member="mpr.h::mprSignalExit" ref="gf86c5f0e03d6476670810091ba6a8d3c" args="(MprCtx ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprSignalExit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Signal the MPR to exit gracefully. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Set the must exit flag for the MPR. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gedafb2bdaadd9bccf0938e8e6e31f539"></a><!-- doxytag: member="mpr.h::mprTerminate" ref="gedafb2bdaadd9bccf0938e8e6e31f539" args="(MprCtx ctx, bool graceful)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprTerminate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>graceful</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Terminate the MPR. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Terminates the MPR and disposes of all allocated resources. The mprTerminate function will recursively free all memory allocated by the MPR. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context object returned by <a class="el" href="group___mpr_mem.html#g8453c59fd682fda78bbd18eb9f572dec" title="Allocate a block of memory.">mprAlloc</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>graceful</em>&nbsp;</td><td>Shutdown gracefully waiting for all events to drain. Otherise exit immediately without waiting for any threads or events to complete. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 19 11:56:18 2010 for mpr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
