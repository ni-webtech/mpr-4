<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>mpr: MprModule</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>MprModule</h1>Loadable Module Service.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_module.html#g12f3bd6503c42b00ef185eb5a7b3073f">MprModuleEntry</a> )(<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loadable module entry point signature.  <a href="#g12f3bd6503c42b00ef185eb5a7b3073f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprModule *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_module.html#g63bd240ada3d4cb53ead7b4404fd5014">mprCreateModule</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, cchar *name, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a module.  <a href="#g63bd240ada3d4cb53ead7b4404fd5014"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">cchar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_module.html#g33859b7b158056a95d73f106f76fe7fb">mprGetModuleSearchPath</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the module search path.  <a href="#g33859b7b158056a95d73f106f76fe7fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprModule *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_module.html#g62c9cd99f99d97a0ee2cecfe6bc4cd06">mprLoadModule</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, cchar *name, cchar *entryPoint, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load a module.  <a href="#g62c9cd99f99d97a0ee2cecfe6bc4cd06"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprModule *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_module.html#g3ffc2650baf7a3b10490450ea5defb48">mprLookupModule</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, cchar *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup a module.  <a href="#g3ffc2650baf7a3b10490450ea5defb48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_module.html#g166fe35db17d76f46a260c4ecf72c438">mprSetModuleSearchPath</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, char *searchPath)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the module search path.  <a href="#g166fe35db17d76f46a260c4ecf72c438"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_module.html#g7850e66f8a93866bbf3c149a65f33172">mprUnloadModule</a> (MprModule *mp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unload a module.  <a href="#g7850e66f8a93866bbf3c149a65f33172"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Loadable Module Service. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The MPR provides services to load and unload shared libraries. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group___mpr_module.html" title="Loadable Module Service.">MprModule</a>, <a class="el" href="group___mpr_module.html#g33859b7b158056a95d73f106f76fe7fb" title="Get the module search path.">mprGetModuleSearchPath</a>, <a class="el" href="group___mpr_module.html#g166fe35db17d76f46a260c4ecf72c438" title="Set the module search path.">mprSetModuleSearchPath</a>, <a class="el" href="group___mpr_module.html#g62c9cd99f99d97a0ee2cecfe6bc4cd06" title="Load a module.">mprLoadModule</a>, <a class="el" href="group___mpr_module.html#g7850e66f8a93866bbf3c149a65f33172" title="Unload a module.">mprUnloadModule</a>, <a class="el" href="group___mpr_module.html#g63bd240ada3d4cb53ead7b4404fd5014" title="Create a module.">mprCreateModule</a>, <a class="el" href="group___mpr_module.html#g3ffc2650baf7a3b10490450ea5defb48" title="Lookup a module.">mprLookupModule</a>, <a class="el" href="mpr_8h.html#1d9d70fd98eb69a8c870f2202bee22eb" title="Module start/stop point function signature.">MprModuleProc</a> </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="g12f3bd6503c42b00ef185eb5a7b3073f"></a><!-- doxytag: member="mpr.h::MprModuleEntry" ref="g12f3bd6503c42b00ef185eb5a7b3073f" args=")(MprCtx ctx, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="group___mpr_module.html#g12f3bd6503c42b00ef185eb5a7b3073f">MprModuleEntry</a>)(<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, void *data)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loadable module entry point signature. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Loadable modules can have an entry point that is invoked automatically when a module is loaded. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data passed to mprCreateModule </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a new MprModule structure for the module. Return NULL if the module can't be initialized. </dd></dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g63bd240ada3d4cb53ead7b4404fd5014"></a><!-- doxytag: member="mpr.h::mprCreateModule" ref="g63bd240ada3d4cb53ead7b4404fd5014" args="(MprCtx ctx, cchar *name, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprModule* mprCreateModule           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a module. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>This call will create a module object for a loadable module. This should be invoked by the module itself in its module entry point to register itself with the MPR. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>to associate with this module </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A module object for this module </dd></dl>

</div>
</div><p>
<a class="anchor" name="g33859b7b158056a95d73f106f76fe7fb"></a><!-- doxytag: member="mpr.h::mprGetModuleSearchPath" ref="g33859b7b158056a95d73f106f76fe7fb" args="(MprCtx ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cchar* mprGetModuleSearchPath           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the module search path. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Get the directory search path used by the MPR when loading dynamic modules. This is a colon separated (or semicolon on Windows) set of directories. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The module search path. Caller must not free. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g62c9cd99f99d97a0ee2cecfe6bc4cd06"></a><!-- doxytag: member="mpr.h::mprLoadModule" ref="g62c9cd99f99d97a0ee2cecfe6bc4cd06" args="(MprCtx ctx, cchar *name, cchar *entryPoint, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprModule* mprLoadModule           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>entryPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load a module. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Load a module into the MPR. This will load a dynamic shared object (shared library) and call the modules entry point. If the module has already been loaded, it this call will do nothing and will just return the already defined module object. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the module to load. The module will be searched using the defined module search path (see <a class="el" href="group___mpr_module.html#g166fe35db17d76f46a260c4ecf72c438" title="Set the module search path.">mprSetModuleSearchPath</a>). The filename may or may not include a platform specific shared library extension such as .dll, .so or .dylib. By omitting the library extension, code can portably load shared libraries. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>entryPoint</em>&nbsp;</td><td>Name of function to invoke after loading the module. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Arbitrary data pointer. This will be defined in MprModule.data and passed into the module initialization entry point. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A module object for this module created in the module entry point by calling <a class="el" href="group___mpr_module.html#g63bd240ada3d4cb53ead7b4404fd5014" title="Create a module.">mprCreateModule</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="g3ffc2650baf7a3b10490450ea5defb48"></a><!-- doxytag: member="mpr.h::mprLookupModule" ref="g3ffc2650baf7a3b10490450ea5defb48" args="(MprCtx ctx, cchar *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprModule* mprLookupModule           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup a module. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Lookup a module by name and return the module object. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the module specified to <a class="el" href="group___mpr_module.html#g63bd240ada3d4cb53ead7b4404fd5014" title="Create a module.">mprCreateModule</a>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A module object for this module created in the module entry point by calling <a class="el" href="group___mpr_module.html#g63bd240ada3d4cb53ead7b4404fd5014" title="Create a module.">mprCreateModule</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="g166fe35db17d76f46a260c4ecf72c438"></a><!-- doxytag: member="mpr.h::mprSetModuleSearchPath" ref="g166fe35db17d76f46a260c4ecf72c438" args="(MprCtx ctx, char *searchPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprSetModuleSearchPath           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>searchPath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the module search path. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Set the directory search path used by the MPR when loading dynamic modules. This path string must should be a colon separated (or semicolon on Windows) set of directories. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>searchPath</em>&nbsp;</td><td>Colon separated set of directories </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The module search path. Caller must not free. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g7850e66f8a93866bbf3c149a65f33172"></a><!-- doxytag: member="mpr.h::mprUnloadModule" ref="g7850e66f8a93866bbf3c149a65f33172" args="(MprModule *mp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprUnloadModule           </td>
          <td>(</td>
          <td class="paramtype">MprModule *&nbsp;</td>
          <td class="paramname"> <em>mp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unload a module. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Unload a module from the MPR. This will unload a dynamic shared object (shared library). This routine is not fully supported by the MPR and is often fraught with issues. A module must usually be completely inactive with no allocated memory when it is unloaded. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mp</em>&nbsp;</td><td>Module object returned via <a class="el" href="group___mpr_module.html#g3ffc2650baf7a3b10490450ea5defb48" title="Lookup a module.">mprLookupModule</a> </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 19 11:56:18 2010 for mpr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
