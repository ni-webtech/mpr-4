<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>mpr: MprThread</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>MprThread</h1>Thread Service.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprThread *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_thread.html#g026dcaf0b9eb162486103a9b99632939">mprCreateThread</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, cchar *name, MprThreadProc proc, void *data, int stackSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new thread.  <a href="#g026dcaf0b9eb162486103a9b99632939"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprOsThread&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_thread.html#ga499ec9a691d9b74753edeac24afbcdc">mprGetCurrentOsThread</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the O/S thread.  <a href="#ga499ec9a691d9b74753edeac24afbcdc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprThread *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_thread.html#gf7be9fb3ab99388b3e83093a78a74265">mprGetCurrentThread</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the currently executing thread.  <a href="#gf7be9fb3ab99388b3e83093a78a74265"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">cchar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_thread.html#gc98816057bf8f47f8d15131e68ae12f7">mprGetThreadName</a> (MprThread *thread)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the thread name.  <a href="#gc98816057bf8f47f8d15131e68ae12f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_thread.html#g0edd7ee5a80c5566dbcd079293280b1a">mprGetThreadPriority</a> (MprThread *thread)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the thread priroity.  <a href="#g0edd7ee5a80c5566dbcd079293280b1a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_thread.html#ga809ed728aec623d30af5c895d3bd5c3">mprSetCurrentThreadPriority</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, int priority)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the thread priroity for the current thread.  <a href="#ga809ed728aec623d30af5c895d3bd5c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_thread.html#g60bd7071428f6043d834c48ee8914560">mprSetThreadPriority</a> (MprThread *thread, int priority)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the thread priroity.  <a href="#g60bd7071428f6043d834c48ee8914560"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_thread.html#g35c53df918c2f52e2e1f6961e35ee8d1">mprStartThread</a> (MprThread *thread)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start a thread.  <a href="#g35c53df918c2f52e2e1f6961e35ee8d1"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Thread Service. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The MPR provides a cross-platform thread abstraction above O/S native threads. It supports arbitrary thread creation, thread priorities, thread management and thread local storage. By using these thread primitives with the locking and synchronization primitives offered by <a class="el" href="struct_mpr_mutex.html" title="Multithreading lock control structure.">MprMutex</a>, <a class="el" href="struct_mpr_spin.html" title="Multithreading spin lock control structure.">MprSpin</a> and <a class="el" href="struct_mpr_cond.html" title="Condition variable for single and multi-thread synchronization.">MprCond</a> - you can create cross platform multi-threaded applications. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group___mpr_thread.html" title="Thread Service.">MprThread</a>, <a class="el" href="group___mpr_thread.html#g026dcaf0b9eb162486103a9b99632939" title="Create a new thread.">mprCreateThread</a>, <a class="el" href="group___mpr_thread.html#g35c53df918c2f52e2e1f6961e35ee8d1" title="Start a thread.">mprStartThread</a>, <a class="el" href="group___mpr_thread.html#gc98816057bf8f47f8d15131e68ae12f7" title="Get the thread name.">mprGetThreadName</a>, <a class="el" href="group___mpr_thread.html#g0edd7ee5a80c5566dbcd079293280b1a" title="Get the thread priroity.">mprGetThreadPriority</a>, <a class="el" href="group___mpr_thread.html#g60bd7071428f6043d834c48ee8914560" title="Set the thread priroity.">mprSetThreadPriority</a>, <a class="el" href="group___mpr_thread.html#gf7be9fb3ab99388b3e83093a78a74265" title="Get the currently executing thread.">mprGetCurrentThread</a>, <a class="el" href="group___mpr_thread.html#ga499ec9a691d9b74753edeac24afbcdc" title="Get the O/S thread.">mprGetCurrentOsThread</a>, <a class="el" href="group___mpr_thread.html#g60bd7071428f6043d834c48ee8914560" title="Set the thread priroity.">mprSetThreadPriority</a>, mprSetThreadData, mprGetThreadData, mprCreateThreadLocal </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g026dcaf0b9eb162486103a9b99632939"></a><!-- doxytag: member="mpr.h::mprCreateThread" ref="g026dcaf0b9eb162486103a9b99632939" args="(MprCtx ctx, cchar *name, MprThreadProc proc, void *data, int stackSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprThread* mprCreateThread           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprThreadProc&nbsp;</td>
          <td class="paramname"> <em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stackSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new thread. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>MPR threads are usually real O/S threads and can be used with the various locking services (<a class="el" href="struct_mpr_mutex.html" title="Multithreading lock control structure.">MprMutex</a>, <a class="el" href="struct_mpr_cond.html" title="Condition variable for single and multi-thread synchronization.">MprCond</a>, <a class="el" href="struct_mpr_spin.html" title="Multithreading spin lock control structure.">MprSpin</a>) to enable scalable multithreaded applications. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by mprAlloc or mprCreate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Unique name to give the thread </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>proc</em>&nbsp;</td><td>Entry point function for the thread. <a class="el" href="group___mpr_thread.html#g35c53df918c2f52e2e1f6961e35ee8d1" title="Start a thread.">mprStartThread</a> will invoke this function to start the thread </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Thread private data stored in MprThread.data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stackSize</em>&nbsp;</td><td>Stack size to use for the thread. On VM based systems, increasing this value, does not necessarily incurr a real memory (working-set) increase. Set to zero for a default stack size. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A MprThread object </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga499ec9a691d9b74753edeac24afbcdc"></a><!-- doxytag: member="mpr.h::mprGetCurrentOsThread" ref="ga499ec9a691d9b74753edeac24afbcdc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprOsThread mprGetCurrentOsThread           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the O/S thread. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Get the O/S thread ID for the currently executing thread. </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a platform specific O/S thread ID. On Unix, this is a pthread reference. On other systems it is a thread integer value. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gf7be9fb3ab99388b3e83093a78a74265"></a><!-- doxytag: member="mpr.h::mprGetCurrentThread" ref="gf7be9fb3ab99388b3e83093a78a74265" args="(MprCtx ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprThread* mprGetCurrentThread           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the currently executing thread. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Get the thread object for the currently executing O/S thread. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a thread object representing the current O/S thread. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gc98816057bf8f47f8d15131e68ae12f7"></a><!-- doxytag: member="mpr.h::mprGetThreadName" ref="gc98816057bf8f47f8d15131e68ae12f7" args="(MprThread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cchar* mprGetThreadName           </td>
          <td>(</td>
          <td class="paramtype">MprThread *&nbsp;</td>
          <td class="paramname"> <em>thread</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the thread name. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>MPR threads are usually real O/S threads and can be used with the various locking services (<a class="el" href="struct_mpr_mutex.html" title="Multithreading lock control structure.">MprMutex</a>, <a class="el" href="struct_mpr_cond.html" title="Condition variable for single and multi-thread synchronization.">MprCond</a>, <a class="el" href="struct_mpr_spin.html" title="Multithreading spin lock control structure.">MprSpin</a>) to enable scalable multithreaded applications. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>thread</em>&nbsp;</td><td>Thread object returned from <a class="el" href="group___mpr_thread.html#g026dcaf0b9eb162486103a9b99632939" title="Create a new thread.">mprCreateThread</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a string name for the thread. Caller must not free. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g0edd7ee5a80c5566dbcd079293280b1a"></a><!-- doxytag: member="mpr.h::mprGetThreadPriority" ref="g0edd7ee5a80c5566dbcd079293280b1a" args="(MprThread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprGetThreadPriority           </td>
          <td>(</td>
          <td class="paramtype">MprThread *&nbsp;</td>
          <td class="paramname"> <em>thread</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the thread priroity. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Get the current priority for the specified thread. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>thread</em>&nbsp;</td><td>Thread object returned by <a class="el" href="group___mpr_thread.html#g026dcaf0b9eb162486103a9b99632939" title="Create a new thread.">mprCreateThread</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An integer MPR thread priority between 0 and 100 inclusive. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga809ed728aec623d30af5c895d3bd5c3"></a><!-- doxytag: member="mpr.h::mprSetCurrentThreadPriority" ref="ga809ed728aec623d30af5c895d3bd5c3" args="(MprCtx ctx, int priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprSetCurrentThreadPriority           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the thread priroity for the current thread. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Set the current priority for the specified thread. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>Priority to associate with the thread. Mpr thread priorities are are integer values between 0 and 100 inclusive with 50 being a normal priority. The MPR maps these priorities in a linear fashion onto native O/S priorites. Useful constants are: <ul>
<li>MPR_LOW_PRIORITY </li>
<li>MPR_NORMAL_PRIORITY </li>
<li>MPR_HIGH_PRIORITY </li>
</ul>
</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g60bd7071428f6043d834c48ee8914560"></a><!-- doxytag: member="mpr.h::mprSetThreadPriority" ref="g60bd7071428f6043d834c48ee8914560" args="(MprThread *thread, int priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprSetThreadPriority           </td>
          <td>(</td>
          <td class="paramtype">MprThread *&nbsp;</td>
          <td class="paramname"> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the thread priroity. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Set the current priority for the specified thread. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>thread</em>&nbsp;</td><td>Thread object returned by <a class="el" href="group___mpr_thread.html#g026dcaf0b9eb162486103a9b99632939" title="Create a new thread.">mprCreateThread</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>Priority to associate with the thread. Mpr thread priorities are are integer values between 0 and 100 inclusive with 50 being a normal priority. The MPR maps these priorities in a linear fashion onto native O/S priorites. Useful constants are: <ul>
<li>MPR_LOW_PRIORITY </li>
<li>MPR_NORMAL_PRIORITY </li>
<li>MPR_HIGH_PRIORITY </li>
</ul>
</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g35c53df918c2f52e2e1f6961e35ee8d1"></a><!-- doxytag: member="mpr.h::mprStartThread" ref="g35c53df918c2f52e2e1f6961e35ee8d1" args="(MprThread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprStartThread           </td>
          <td>(</td>
          <td class="paramtype">MprThread *&nbsp;</td>
          <td class="paramname"> <em>thread</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start a thread. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Start a thread previously created via <a class="el" href="group___mpr_thread.html#g026dcaf0b9eb162486103a9b99632939" title="Create a new thread.">mprCreateThread</a>. The thread will begin at the entry function defined in <a class="el" href="group___mpr_thread.html#g026dcaf0b9eb162486103a9b99632939" title="Create a new thread.">mprCreateThread</a>. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>thread</em>&nbsp;</td><td>Thread object returned from <a class="el" href="group___mpr_thread.html#g026dcaf0b9eb162486103a9b99632939" title="Create a new thread.">mprCreateThread</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns zero if successful, otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 19 11:56:18 2010 for mpr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
