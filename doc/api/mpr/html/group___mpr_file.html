<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>mpr: MprFile</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>MprFile</h1>File I/O Module.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprFile *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#ge05c883c658aef3c2e9da52e82e2a39b">mprAttachFd</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, int fd, cchar *name, int omode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attach to an existing file descriptor.  <a href="#ge05c883c658aef3c2e9da52e82e2a39b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g457be50126337e42f1df6c30af9db510">mprDisableFileBuffering</a> (MprFile *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable file buffering.  <a href="#g457be50126337e42f1df6c30af9db510"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g1912be708fa60f6afde7e174413507bc">mprEnableFileBuffering</a> (MprFile *file, int size, int maxSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable file buffering.  <a href="#g1912be708fa60f6afde7e174413507bc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g91dff182995e9e7f443373a5b27da4f4">mprFlush</a> (MprFile *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flush any buffered write data.  <a href="#g91dff182995e9e7f443373a5b27da4f4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g33e438e507e4e5effcddb2cc103e5c26">mprGetc</a> (MprFile *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a character from the file.  <a href="#g33e438e507e4e5effcddb2cc103e5c26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprOffset&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g96273fe03aa3e5e1de8820e8aaba7e5c">mprGetFilePosition</a> (MprFile *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the current file position.  <a href="#g96273fe03aa3e5e1de8820e8aaba7e5c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprOffset&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#gb1ae4e8c4128773497a609e444dbe8c7">mprGetFileSize</a> (MprFile *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the size of the file.  <a href="#gb1ae4e8c4128773497a609e444dbe8c7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g15a5b5e70b74166eb1aea7d278d11358">mprGets</a> (MprFile *file, char *buf, uint size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a line from the file.  <a href="#g15a5b5e70b74166eb1aea7d278d11358"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprFile *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g4f97953317f303fe033be11fcbcec4e9">mprOpen</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx, cchar *filename, int omode, int perms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a file.  <a href="#g4f97953317f303fe033be11fcbcec4e9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#gb50f74711c89a6eb57363aee8090b6bb">mprPeekc</a> (MprFile *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Non-destructively read a character from the file.  <a href="#gb50f74711c89a6eb57363aee8090b6bb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#gda34b4c0fbd1cd04fd636ab49e7dcb71">mprPutc</a> (MprFile *file, int c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a character to the file.  <a href="#gda34b4c0fbd1cd04fd636ab49e7dcb71"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#ge172b6c82656af8d7a4f82bdff01977c">mprPuts</a> (MprFile *file, cchar *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a string to the file.  <a href="#ge172b6c82656af8d7a4f82bdff01977c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#ge3052b9893259fb2f245d5e08310d9c5">mprRead</a> (MprFile *file, void *buf, uint size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data from a file.  <a href="#ge3052b9893259fb2f245d5e08310d9c5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g6510f5de249f68beee6bbbe880549793">mprSeek</a> (MprFile *file, int seekType, long distance)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Seek the I/O pointer to a new location in the file.  <a href="#g6510f5de249f68beee6bbbe880549793"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g1ccf3d98a34232049c0e97384fca88c3">mprWrite</a> (MprFile *file, cvoid *buf, uint count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data to a file.  <a href="#g1ccf3d98a34232049c0e97384fca88c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g7acf925a7a7f34a50f45e72e34ccc2c7">mprWriteFormat</a> (MprFile *file, cchar *fmt,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write formatted data to a file.  <a href="#g7acf925a7a7f34a50f45e72e34ccc2c7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_file.html#g3874c994f9f5b1c4c4fd57100a656148">mprWriteString</a> (MprFile *file, cchar *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a string to a file.  <a href="#g3874c994f9f5b1c4c4fd57100a656148"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
File I/O Module. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>MprFile is the cross platform File I/O abstraction control structure. An instance will be created when a file is created or opened via <a class="el" href="group___mpr_file.html#g4f97953317f303fe033be11fcbcec4e9" title="Open a file.">mprOpen</a>. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group___mpr_file.html" title="File I/O Module.">MprFile</a> mprClose <a class="el" href="group___mpr_file.html#g15a5b5e70b74166eb1aea7d278d11358" title="Read a line from the file.">mprGets</a> <a class="el" href="group___mpr_file.html#g4f97953317f303fe033be11fcbcec4e9" title="Open a file.">mprOpen</a> <a class="el" href="group___mpr_file.html#gda34b4c0fbd1cd04fd636ab49e7dcb71" title="Write a character to the file.">mprPutc</a> <a class="el" href="group___mpr_file.html#ge172b6c82656af8d7a4f82bdff01977c" title="Write a string to the file.">mprPuts</a> <a class="el" href="group___mpr_file.html#ge3052b9893259fb2f245d5e08310d9c5" title="Read data from a file.">mprRead</a> <a class="el" href="group___mpr_file.html#g6510f5de249f68beee6bbbe880549793" title="Seek the I/O pointer to a new location in the file.">mprSeek</a> <a class="el" href="group___mpr_file.html#g1ccf3d98a34232049c0e97384fca88c3" title="Write data to a file.">mprWrite</a> <a class="el" href="group___mpr_file.html#g3874c994f9f5b1c4c4fd57100a656148" title="Write a string to a file.">mprWriteString</a> <a class="el" href="group___mpr_file.html#g7acf925a7a7f34a50f45e72e34ccc2c7" title="Write formatted data to a file.">mprWriteFormat</a> <a class="el" href="group___mpr_file.html#g91dff182995e9e7f443373a5b27da4f4" title="Flush any buffered write data.">mprFlush</a> <a class="el" href="group___mpr_file.html" title="File I/O Module.">MprFile</a> <a class="el" href="group___mpr_file.html#g33e438e507e4e5effcddb2cc103e5c26" title="Read a character from the file.">mprGetc</a> <a class="el" href="group___mpr_file.html#g457be50126337e42f1df6c30af9db510" title="Disable file buffering.">mprDisableFileBuffering</a> <a class="el" href="group___mpr_file.html#g1912be708fa60f6afde7e174413507bc" title="Enable file buffering.">mprEnableFileBuffering</a> <a class="el" href="group___mpr_file.html#gb1ae4e8c4128773497a609e444dbe8c7" title="Get the size of the file.">mprGetFileSize</a> <a class="el" href="group___mpr_file.html#g96273fe03aa3e5e1de8820e8aaba7e5c" title="Return the current file position.">mprGetFilePosition</a> <a class="el" href="group___mpr_file.html#gb50f74711c89a6eb57363aee8090b6bb" title="Non-destructively read a character from the file.">mprPeekc</a> </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ge05c883c658aef3c2e9da52e82e2a39b"></a><!-- doxytag: member="mpr.h::mprAttachFd" ref="ge05c883c658aef3c2e9da52e82e2a39b" args="(MprCtx ctx, int fd, cchar *name, int omode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprFile* mprAttachFd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>omode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attach to an existing file descriptor. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Attach a file to an open file decriptor and return a file object. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>File descriptor to attach to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Descriptive name for the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>omode</em>&nbsp;</td><td>Posix style file open mode mask. The open mode may contain the following mask values ored together: <ul>
<li>O_RDONLY Open read only </li>
<li>O_WRONLY Open write only </li>
<li>O_RDWR Open for read and write </li>
<li>O_CREAT Create or re-create </li>
<li>O_TRUNC Truncate </li>
<li>O_BINARY Open for binary data </li>
<li>O_TEXT Open for text data </li>
<li>O_EXCL Open with an exclusive lock </li>
<li>O_APPEND Open to append </li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns an MprFile object to use in other file operations. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g457be50126337e42f1df6c30af9db510"></a><!-- doxytag: member="mpr.h::mprDisableFileBuffering" ref="g457be50126337e42f1df6c30af9db510" args="(MprFile *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprDisableFileBuffering           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disable file buffering. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Disable any buffering of data when using the buffer. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>File instance returned from <a class="el" href="group___mpr_file.html#g4f97953317f303fe033be11fcbcec4e9" title="Open a file.">mprOpen</a> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g1912be708fa60f6afde7e174413507bc"></a><!-- doxytag: member="mpr.h::mprEnableFileBuffering" ref="g1912be708fa60f6afde7e174413507bc" args="(MprFile *file, int size, int maxSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprEnableFileBuffering           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable file buffering. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Enable data buffering when using the buffer. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>File instance returned from <a class="el" href="group___mpr_file.html#g4f97953317f303fe033be11fcbcec4e9" title="Open a file.">mprOpen</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size to allocate for the buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxSize</em>&nbsp;</td><td>Maximum size the data buffer can grow to </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g91dff182995e9e7f443373a5b27da4f4"></a><!-- doxytag: member="mpr.h::mprFlush" ref="g91dff182995e9e7f443373a5b27da4f4" args="(MprFile *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprFlush           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flush any buffered write data. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Write buffered write data and then reset the internal buffers. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if successful, otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g33e438e507e4e5effcddb2cc103e5c26"></a><!-- doxytag: member="mpr.h::mprGetc" ref="g33e438e507e4e5effcddb2cc103e5c26" args="(MprFile *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprGetc           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a character from the file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Read a single character from the file and advance the read position. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If successful, return the character just read. Otherwise return a negative MPR error code. End of file is signified by reading 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g96273fe03aa3e5e1de8820e8aaba7e5c"></a><!-- doxytag: member="mpr.h::mprGetFilePosition" ref="g96273fe03aa3e5e1de8820e8aaba7e5c" args="(MprFile *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprOffset mprGetFilePosition           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the current file position. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Return the current read/write file position. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>A file object returned from <a class="el" href="group___mpr_file.html#g4f97953317f303fe033be11fcbcec4e9" title="Open a file.">mprOpen</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The current file offset position if successful. Returns a negative MPR error code on errors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gb1ae4e8c4128773497a609e444dbe8c7"></a><!-- doxytag: member="mpr.h::mprGetFileSize" ref="gb1ae4e8c4128773497a609e444dbe8c7" args="(MprFile *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprOffset mprGetFileSize           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the size of the file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Return the current file size </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>A file object returned from <a class="el" href="group___mpr_file.html#g4f97953317f303fe033be11fcbcec4e9" title="Open a file.">mprOpen</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The current file size if successful. Returns a negative MPR error code on errors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g15a5b5e70b74166eb1aea7d278d11358"></a><!-- doxytag: member="mpr.h::mprGets" ref="g15a5b5e70b74166eb1aea7d278d11358" args="(MprFile *file, char *buf, uint size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* mprGets           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a line from the file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Read a single line from the file and advance the read position. Lines are delimited by the newline character. The newline is not included in the returned buffer. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Pre-allocated buffer to contain the line of data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of <em>buf</em>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of characters read into <em>buf</em>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g4f97953317f303fe033be11fcbcec4e9"></a><!-- doxytag: member="mpr.h::mprOpen" ref="g4f97953317f303fe033be11fcbcec4e9" args="(MprCtx ctx, cchar *filename, int omode, int perms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprFile* mprOpen           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>omode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>perms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Open a file and return a file object. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory context allocated by the MPR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>String containing the filename to open or create. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>omode</em>&nbsp;</td><td>Posix style file open mode mask. The open mode may contain the following mask values ored together: <ul>
<li>O_RDONLY Open read only </li>
<li>O_WRONLY Open write only </li>
<li>O_RDWR Open for read and write </li>
<li>O_CREAT Create or re-create </li>
<li>O_TRUNC Truncate </li>
<li>O_BINARY Open for binary data </li>
<li>O_TEXT Open for text data </li>
<li>O_EXCL Open with an exclusive lock </li>
<li>O_APPEND Open to append </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>perms</em>&nbsp;</td><td>Posix style file permissions mask. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns an MprFile object to use in other file operations. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gb50f74711c89a6eb57363aee8090b6bb"></a><!-- doxytag: member="mpr.h::mprPeekc" ref="gb50f74711c89a6eb57363aee8090b6bb" args="(MprFile *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprPeekc           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Non-destructively read a character from the file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Read a single character from the file without advancing the read position. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If successful, return the character just read. Otherwise return a negative MPR error code. End of file is signified by reading 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gda34b4c0fbd1cd04fd636ab49e7dcb71"></a><!-- doxytag: member="mpr.h::mprPutc" ref="gda34b4c0fbd1cd04fd636ab49e7dcb71" args="(MprFile *file, int c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprPutc           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a character to the file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Writes a single character to the file. Output is buffered and is flushed as required or when mprClose is called. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>Character to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>One if successful, otherwise returns a negative MPR error code on errors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ge172b6c82656af8d7a4f82bdff01977c"></a><!-- doxytag: member="mpr.h::mprPuts" ref="ge172b6c82656af8d7a4f82bdff01977c" args="(MprFile *file, cchar *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprPuts           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a string to the file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Writes a string to the file. Output is buffered and is flushed as required or when mprClose is called. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>String to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of characters written to the file. Returns a negative MPR error code on errors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ge3052b9893259fb2f245d5e08310d9c5"></a><!-- doxytag: member="mpr.h::mprRead" ref="ge3052b9893259fb2f245d5e08310d9c5" args="(MprFile *file, void *buf, uint size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprRead           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read data from a file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Reads data from a file. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Buffer to contain the read data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of <em>buf</em> in characters. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of characters read from the file. Returns a negative MPR error code on errors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g6510f5de249f68beee6bbbe880549793"></a><!-- doxytag: member="mpr.h::mprSeek" ref="g6510f5de249f68beee6bbbe880549793" args="(MprFile *file, int seekType, long distance)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long mprSeek           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seekType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>distance</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Seek the I/O pointer to a new location in the file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Move the position in the file to/from which I/O will be performed in the file. Seeking prior to a read or write will cause the next I/O to occur at that location. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seekType</em>&nbsp;</td><td>Seek type may be one of the following three values: <ul>
<li>SEEK_SET Seek to a position relative to the start of the file </li>
<li>SEEK_CUR Seek relative to the current position </li>
<li>SEEK_END Seek relative to the end of the file </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>distance</em>&nbsp;</td><td>A positive or negative byte offset. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the new file position if successful otherwise a negative MPR error code is returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g1ccf3d98a34232049c0e97384fca88c3"></a><!-- doxytag: member="mpr.h::mprWrite" ref="g1ccf3d98a34232049c0e97384fca88c3" args="(MprFile *file, cvoid *buf, uint count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprWrite           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cvoid *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write data to a file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Writes data to a file. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Buffer containing the data to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Cound of characters in <em>buf</em> to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of characters actually written to the file. Returns a negative MPR error code on errors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g7acf925a7a7f34a50f45e72e34ccc2c7"></a><!-- doxytag: member="mpr.h::mprWriteFormat" ref="g7acf925a7a7f34a50f45e72e34ccc2c7" args="(MprFile *file, cchar *fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprWriteFormat           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write formatted data to a file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Writes a formatted string to a file. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fmt</em>&nbsp;</td><td>Format string </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of characters actually written to the file. Returns a negative MPR error code on errors. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g3874c994f9f5b1c4c4fd57100a656148"></a><!-- doxytag: member="mpr.h::mprWriteString" ref="g3874c994f9f5b1c4c4fd57100a656148" args="(MprFile *file, cchar *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprWriteString           </td>
          <td>(</td>
          <td class="paramtype">MprFile *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a string to a file. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Writes a string to a file. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Pointer to an MprFile object returned via MprOpen. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>String to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of characters actually written to the file. Returns a negative MPR error code on errors. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 19 11:56:18 2010 for mpr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
