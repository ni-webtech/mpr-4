<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>mpr: MprCmd</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>MprCmd</h1>Command execution Service.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#gc48a59b1bfc4f3944a88e152863c3d32">mprCloseCmdFd</a> (MprCmd *cmd, int channel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the command channel.  <a href="#gc48a59b1bfc4f3944a88e152863c3d32"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprCmd *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#gbc453ad9cdcd6046373ebfce72ce1fd6">mprCreateCmd</a> (<a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a> ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new Command object.  <a href="#gbc453ad9cdcd6046373ebfce72ce1fd6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g66cccaaaa550e9d2cf381ff8854c2d7a">mprDisableCmdEvents</a> (MprCmd *cmd, int channel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable command I/O events.  <a href="#g66cccaaaa550e9d2cf381ff8854c2d7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g7562126cafba57260cd73634f1ee4aed">mprDisconnectCmd</a> (MprCmd *cmd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disconnect a command its underlying I/O channels.  <a href="#g7562126cafba57260cd73634f1ee4aed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g2fd38e2aaf8e7c2a1aed39aa1005155e">mprEnableCmdEvents</a> (MprCmd *cmd, int channel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable command I/O events.  <a href="#g2fd38e2aaf8e7c2a1aed39aa1005155e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">MprBuf *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g68cf4226027c07ba3f3e5b30ecd48590">mprGetCmdBuf</a> (MprCmd *cmd, int channel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the underlying buffer for a channel.  <a href="#g68cf4226027c07ba3f3e5b30ecd48590"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g4dcefa4a65ff85b78c9b6580abac0a62">mprGetCmdExitStatus</a> (MprCmd *cmd, int *status)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the command exit status.  <a href="#g4dcefa4a65ff85b78c9b6580abac0a62"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#gb286ce3b057579a16b84ec56997ae63f">mprGetCmdFd</a> (MprCmd *cmd, int channel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the underlying file descriptor for an I/O channel.  <a href="#gb286ce3b057579a16b84ec56997ae63f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g5ac545e5959e115b2cd633004f5d949b">mprIsCmdRunning</a> (MprCmd *cmd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if the command is still running.  <a href="#g5ac545e5959e115b2cd633004f5d949b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g79b9d648fb26331b46aab5d8d6b0bce4">mprMakeCmdIO</a> (MprCmd *cmd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make the I/O channels to send and receive data to and from the command.  <a href="#g79b9d648fb26331b46aab5d8d6b0bce4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g9aee91a4b53a03ea5dcf603b3c2437b8">mprPollCmdPipes</a> (MprCmd *cmd, int timeout)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Poll for I/O on the command pipes.  <a href="#g9aee91a4b53a03ea5dcf603b3c2437b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g4a9036d982e301eb389e36b3b6a2bee7">mprReadCmdPipe</a> (MprCmd *cmd, int channel, char *buf, int bufsize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make the I/O channels to send and receive data to and from the command.  <a href="#g4a9036d982e301eb389e36b3b6a2bee7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g5644e84254f86b9f85374e90d081f0fc">mprReapCmd</a> (MprCmd *cmd, int timeout)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reap the command.  <a href="#g5644e84254f86b9f85374e90d081f0fc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g7f80cf889cf937a284d78552298667b3">mprRunCmd</a> (MprCmd *cmd, cchar *command, char **out, char **err, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Run a command using a string command line.  <a href="#g7f80cf889cf937a284d78552298667b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#gfcea6f14d60761368a0644eb0c0de2aa">mprRunCmdV</a> (MprCmd *cmd, int argc, char **argv, char **out, char **err, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Run a command using an argv[] array of arguments.  <a href="#gfcea6f14d60761368a0644eb0c0de2aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g8288e08dc7387c14e0536d214eba6049">mprSetCmdCallback</a> (MprCmd *cmd, MprCmdProc callback, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define a callback to be invoked to receive response data from the command.  <a href="#g8288e08dc7387c14e0536d214eba6049"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#ga0e753a2136410b79e480713aaf97b89">mprSetCmdDir</a> (MprCmd *cmd, cchar *dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the home directory for the command.  <a href="#ga0e753a2136410b79e480713aaf97b89"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g731bf3b3b53862f42249d5a771107363">mprSetCmdEnv</a> (MprCmd *cmd, cchar **env)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the command environment.  <a href="#g731bf3b3b53862f42249d5a771107363"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g63558463aa20f047dbd03cae5b6dab7b">mprStartCmd</a> (MprCmd *cmd, int argc, char **argv, char **envp, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the command.  <a href="#g63558463aa20f047dbd03cae5b6dab7b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g73dbe983174ac25e4af6a1fea4d8f966">mprStopCmd</a> (MprCmd *cmd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop the command.  <a href="#g73dbe983174ac25e4af6a1fea4d8f966"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#g86f4815eb5e4cdd4695ecfd17f8eb360">mprWaitForCmd</a> (MprCmd *cmd, int timeout)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for the command to complete.  <a href="#g86f4815eb5e4cdd4695ecfd17f8eb360"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___mpr_cmd.html#gc69adc9b03e41150d6d79512c0895c12">mprWriteCmdPipe</a> (MprCmd *cmd, int channel, char *buf, int bufsize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data to an I/O channel.  <a href="#gc69adc9b03e41150d6d79512c0895c12"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Command execution Service. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The MprCmd service enables execution of local commands. It uses three full-duplex pipes to communicate read, write and error data with the command. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group___mpr_cmd.html#g68cf4226027c07ba3f3e5b30ecd48590" title="Get the underlying buffer for a channel.">mprGetCmdBuf</a> <a class="el" href="group___mpr_cmd.html#gbc453ad9cdcd6046373ebfce72ce1fd6" title="Create a new Command object.">mprCreateCmd</a> <a class="el" href="group___mpr_cmd.html#g5ac545e5959e115b2cd633004f5d949b" title="Test if the command is still running.">mprIsCmdRunning</a> <a class="el" href="group___mpr_cmd.html#g63558463aa20f047dbd03cae5b6dab7b" title="Start the command.">mprStartCmd</a> <a class="el" href="group___mpr_cmd.html#g4dcefa4a65ff85b78c9b6580abac0a62" title="Get the command exit status.">mprGetCmdExitStatus</a> <a class="el" href="group___mpr_cmd.html#gb286ce3b057579a16b84ec56997ae63f" title="Get the underlying file descriptor for an I/O channel.">mprGetCmdFd</a> <a class="el" href="group___mpr_cmd.html#g79b9d648fb26331b46aab5d8d6b0bce4" title="Make the I/O channels to send and receive data to and from the command.">mprMakeCmdIO</a> <a class="el" href="group___mpr_cmd.html#g4a9036d982e301eb389e36b3b6a2bee7" title="Make the I/O channels to send and receive data to and from the command.">mprReadCmdPipe</a> <a class="el" href="group___mpr_cmd.html#g5644e84254f86b9f85374e90d081f0fc" title="Reap the command.">mprReapCmd</a> <a class="el" href="group___mpr_cmd.html#g7f80cf889cf937a284d78552298667b3" title="Run a command using a string command line.">mprRunCmd</a> <a class="el" href="group___mpr_cmd.html#gfcea6f14d60761368a0644eb0c0de2aa" title="Run a command using an argv[] array of arguments.">mprRunCmdV</a> <a class="el" href="group___mpr_cmd.html#g86f4815eb5e4cdd4695ecfd17f8eb360" title="Wait for the command to complete.">mprWaitForCmd</a> <a class="el" href="group___mpr_cmd.html#gc69adc9b03e41150d6d79512c0895c12" title="Write data to an I/O channel.">mprWriteCmdPipe</a> <a class="el" href="group___mpr_cmd.html#gc48a59b1bfc4f3944a88e152863c3d32" title="Close the command channel.">mprCloseCmdFd</a> <a class="el" href="group___mpr_cmd.html#g66cccaaaa550e9d2cf381ff8854c2d7a" title="Disable command I/O events.">mprDisableCmdEvents</a> <a class="el" href="group___mpr_cmd.html#g7562126cafba57260cd73634f1ee4aed" title="Disconnect a command its underlying I/O channels.">mprDisconnectCmd</a> <a class="el" href="group___mpr_cmd.html#g2fd38e2aaf8e7c2a1aed39aa1005155e" title="Enable command I/O events.">mprEnableCmdEvents</a> <a class="el" href="group___mpr_cmd.html#g9aee91a4b53a03ea5dcf603b3c2437b8" title="Poll for I/O on the command pipes.">mprPollCmdPipes</a> <a class="el" href="group___mpr_cmd.html#g8288e08dc7387c14e0536d214eba6049" title="Define a callback to be invoked to receive response data from the command.">mprSetCmdCallback</a> <a class="el" href="group___mpr_cmd.html#ga0e753a2136410b79e480713aaf97b89" title="Set the home directory for the command.">mprSetCmdDir</a> <a class="el" href="group___mpr_cmd.html#g731bf3b3b53862f42249d5a771107363" title="Set the command environment.">mprSetCmdEnv</a> <a class="el" href="group___mpr_cmd.html#g73dbe983174ac25e4af6a1fea4d8f966" title="Stop the command.">mprStopCmd</a> </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gc48a59b1bfc4f3944a88e152863c3d32"></a><!-- doxytag: member="mpr.h::mprCloseCmdFd" ref="gc48a59b1bfc4f3944a88e152863c3d32" args="(MprCmd *cmd, int channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprCloseCmdFd           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close the command channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Channel number to close. Should be either MPR_CMD_STDIN, MPR_CMD_STDOUT or MPR_CMD_STDERR. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gbc453ad9cdcd6046373ebfce72ce1fd6"></a><!-- doxytag: member="mpr.h::mprCreateCmd" ref="gbc453ad9cdcd6046373ebfce72ce1fd6" args="(MprCtx ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprCmd* mprCreateCmd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___mpr_mem.html#g1413d66bb5356730c6fa08ca0af6bc0f">MprCtx</a>&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new Command object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Any memory allocation context created by MprAlloc </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A newly allocated MprCmd object. Use mprFree to close and free. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g66cccaaaa550e9d2cf381ff8854c2d7a"></a><!-- doxytag: member="mpr.h::mprDisableCmdEvents" ref="g66cccaaaa550e9d2cf381ff8854c2d7a" args="(MprCmd *cmd, int channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprDisableCmdEvents           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disable command I/O events. 
<p>
This disables events on a given channel. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Channel number to close. Should be either MPR_CMD_STDIN, MPR_CMD_STDOUT or MPR_CMD_STDERR. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g7562126cafba57260cd73634f1ee4aed"></a><!-- doxytag: member="mpr.h::mprDisconnectCmd" ref="g7562126cafba57260cd73634f1ee4aed" args="(MprCmd *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprDisconnectCmd           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disconnect a command its underlying I/O channels. 
<p>
This is used to prevent further I/O wait events while still preserving the MprCmd object. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g2fd38e2aaf8e7c2a1aed39aa1005155e"></a><!-- doxytag: member="mpr.h::mprEnableCmdEvents" ref="g2fd38e2aaf8e7c2a1aed39aa1005155e" args="(MprCmd *cmd, int channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprEnableCmdEvents           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable command I/O events. 
<p>
This enables events on a given channel. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Channel number to close. Should be either MPR_CMD_STDIN, MPR_CMD_STDOUT or MPR_CMD_STDERR. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g68cf4226027c07ba3f3e5b30ecd48590"></a><!-- doxytag: member="mpr.h::mprGetCmdBuf" ref="g68cf4226027c07ba3f3e5b30ecd48590" args="(MprCmd *cmd, int channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MprBuf* mprGetCmdBuf           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the underlying buffer for a channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Channel number to close. Should be either MPR_CMD_STDIN, MPR_CMD_STDOUT or MPR_CMD_STDERR. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A reference to the MprBuf buffer structure </dd></dl>

</div>
</div><p>
<a class="anchor" name="g4dcefa4a65ff85b78c9b6580abac0a62"></a><!-- doxytag: member="mpr.h::mprGetCmdExitStatus" ref="g4dcefa4a65ff85b78c9b6580abac0a62" args="(MprCmd *cmd, int *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprGetCmdExitStatus           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the command exit status. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Reference to an integer to receive the command exit status. This is typically zero for success, but this is platform specific. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gb286ce3b057579a16b84ec56997ae63f"></a><!-- doxytag: member="mpr.h::mprGetCmdFd" ref="gb286ce3b057579a16b84ec56997ae63f" args="(MprCmd *cmd, int channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprGetCmdFd           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the underlying file descriptor for an I/O channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Channel number to close. Should be either MPR_CMD_STDIN, MPR_CMD_STDOUT or MPR_CMD_STDERR. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The file descriptor </dd></dl>

</div>
</div><p>
<a class="anchor" name="g5ac545e5959e115b2cd633004f5d949b"></a><!-- doxytag: member="mpr.h::mprIsCmdRunning" ref="g5ac545e5959e115b2cd633004f5d949b" args="(MprCmd *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mprIsCmdRunning           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Test if the command is still running. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if the command is still running </dd></dl>

</div>
</div><p>
<a class="anchor" name="g79b9d648fb26331b46aab5d8d6b0bce4"></a><!-- doxytag: member="mpr.h::mprMakeCmdIO" ref="g79b9d648fb26331b46aab5d8d6b0bce4" args="(MprCmd *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprMakeCmdIO           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Make the I/O channels to send and receive data to and from the command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if successful. Otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g9aee91a4b53a03ea5dcf603b3c2437b8"></a><!-- doxytag: member="mpr.h::mprPollCmdPipes" ref="g9aee91a4b53a03ea5dcf603b3c2437b8" args="(MprCmd *cmd, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprPollCmdPipes           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Poll for I/O on the command pipes. 
<p>
This is only used on windows which can't adequately detect EOF on a named pipe. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Time in milliseconds to wait for the command to complete and exit. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g4a9036d982e301eb389e36b3b6a2bee7"></a><!-- doxytag: member="mpr.h::mprReadCmdPipe" ref="g4a9036d982e301eb389e36b3b6a2bee7" args="(MprCmd *cmd, int channel, char *buf, int bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprReadCmdPipe           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Make the I/O channels to send and receive data to and from the command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Channel number to read from. Should be either MPR_CMD_STDIN, MPR_CMD_STDOUT or MPR_CMD_STDERR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Buffer to read into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bufsize</em>&nbsp;</td><td>Size of buffer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if successful. Otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g5644e84254f86b9f85374e90d081f0fc"></a><!-- doxytag: member="mpr.h::mprReapCmd" ref="g5644e84254f86b9f85374e90d081f0fc" args="(MprCmd *cmd, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprReapCmd           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reap the command. 
<p>
This waits for and collect the command exit status. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Time in milliseconds to wait for the command to complete and exit. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if successful. Otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g7f80cf889cf937a284d78552298667b3"></a><!-- doxytag: member="mpr.h::mprRunCmd" ref="g7f80cf889cf937a284d78552298667b3" args="(MprCmd *cmd, cchar *command, char **out, char **err, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprRunCmd           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run a command using a string command line. 
<p>
This starts the command via <a class="el" href="group___mpr_cmd.html#g63558463aa20f047dbd03cae5b6dab7b" title="Start the command.">mprStartCmd()</a> and waits for its completion. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>Command line to run </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out</em>&nbsp;</td><td>Reference to a string to receive the stdout from the command. Caller must free. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>Reference to a string to receive the stderr from the command. Caller must free. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Flags to modify execution. Valid flags are: MPR_CMD_NEW_SESSION Create a new session on Unix MPR_CMD_SHOW Show the commands window on Windows MPR_CMD_IN Connect to stdin </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if successful. Otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gfcea6f14d60761368a0644eb0c0de2aa"></a><!-- doxytag: member="mpr.h::mprRunCmdV" ref="gfcea6f14d60761368a0644eb0c0de2aa" args="(MprCmd *cmd, int argc, char **argv, char **out, char **err, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprRunCmdV           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run a command using an argv[] array of arguments. 
<p>
This invokes <a class="el" href="group___mpr_cmd.html#g63558463aa20f047dbd03cae5b6dab7b" title="Start the command.">mprStartCmd()</a> and waits for its completion. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Count of arguments in argv </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>Command arguments array </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out</em>&nbsp;</td><td>Reference to a string to receive the stdout from the command. Caller must free. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>Reference to a string to receive the stderr from the command. Caller must free. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Flags to modify execution. Valid flags are: MPR_CMD_NEW_SESSION Create a new session on Unix MPR_CMD_SHOW Show the commands window on Windows MPR_CMD_IN Connect to stdin </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if successful. Otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g8288e08dc7387c14e0536d214eba6049"></a><!-- doxytag: member="mpr.h::mprSetCmdCallback" ref="g8288e08dc7387c14e0536d214eba6049" args="(MprCmd *cmd, MprCmdProc callback, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprSetCmdCallback           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprCmdProc&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define a callback to be invoked to receive response data from the command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>Function of the signature MprCmdProc which will be invoked for receive notification for data from the commands stdout and stderr channels. MprCmdProc has the signature: int callback(MprCmd *cmd, int channel, void *data) {} </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>User defined data to be passed to the callback. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ga0e753a2136410b79e480713aaf97b89"></a><!-- doxytag: member="mpr.h::mprSetCmdDir" ref="ga0e753a2136410b79e480713aaf97b89" args="(MprCmd *cmd, cchar *dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprSetCmdDir           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the home directory for the command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>String directory path name. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g731bf3b3b53862f42249d5a771107363"></a><!-- doxytag: member="mpr.h::mprSetCmdEnv" ref="g731bf3b3b53862f42249d5a771107363" args="(MprCmd *cmd, cchar **env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprSetCmdEnv           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar **&nbsp;</td>
          <td class="paramname"> <em>env</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the command environment. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>Array of environment strings. Each environment string should be of the form: "KEY=VALUE". The array must be null terminated. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g63558463aa20f047dbd03cae5b6dab7b"></a><!-- doxytag: member="mpr.h::mprStartCmd" ref="g63558463aa20f047dbd03cae5b6dab7b" args="(MprCmd *cmd, int argc, char **argv, char **envp, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprStartCmd           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>envp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start the command. 
<p>
This starts the command but does not wait for its completion. Once started, mprWriteCmdPipe can be used to write to the command and response data can be received via mprReadCmdPipe. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>Count of arguments in argv </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>Command arguments array </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>envp</em>&nbsp;</td><td>Array of environment strings. Each environment string should be of the form: "KEY=VALUE". The array must be null terminated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Flags to modify execution. Valid flags are: MPR_CMD_NEW_SESSION Create a new session on Unix MPR_CMD_SHOW Show the commands window on Windows MPR_CMD_IN Connect to stdin </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if successful. Otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g73dbe983174ac25e4af6a1fea4d8f966"></a><!-- doxytag: member="mpr.h::mprStopCmd" ref="g73dbe983174ac25e4af6a1fea4d8f966" args="(MprCmd *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprStopCmd           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop the command. 
<p>
The command is immediately killed. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g86f4815eb5e4cdd4695ecfd17f8eb360"></a><!-- doxytag: member="mpr.h::mprWaitForCmd" ref="g86f4815eb5e4cdd4695ecfd17f8eb360" args="(MprCmd *cmd, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprWaitForCmd           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wait for the command to complete. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Time in milliseconds to wait for the command to complete and exit. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if successful. Otherwise a negative MPR error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gc69adc9b03e41150d6d79512c0895c12"></a><!-- doxytag: member="mpr.h::mprWriteCmdPipe" ref="gc69adc9b03e41150d6d79512c0895c12" args="(MprCmd *cmd, int channel, char *buf, int bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mprWriteCmdPipe           </td>
          <td>(</td>
          <td class="paramtype">MprCmd *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write data to an I/O channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>MprCmd object created via mprCreateCmd </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>Channel number to read from. Should be either MPR_CMD_STDIN, MPR_CMD_STDOUT or MPR_CMD_STDERR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Buffer to read into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bufsize</em>&nbsp;</td><td>Size of buffer </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 19 11:56:18 2010 for mpr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
